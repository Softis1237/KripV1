## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å **–∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ LLM** (DeepSeek, Qwen –∏ –¥—Ä.), –∫–æ—Ç–æ—Ä—ã–µ:
- –ü–æ–ª—É—á–∞—é—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (—Ü–µ–Ω—ã, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –ø–æ–∑–∏—Ü–∏–∏)
- **–°–∞–º–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ä–µ—à–µ–Ω–∏—è** —á–µ—Ä–µ–∑ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è (chain-of-thought)
- –¢–æ—Ä–≥—É—é—Ç **–Ω–∞ Hyperliquid perpetuals** (BTC, ETH, SOL, XRP, DOGE, BNB)
- –£–ø—Ä–∞–≤–ª—è—é—Ç **—Å—Ç–æ–ø-–ª–æ—Å—Å–æ–º, —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–æ–º –∏ –ª–µ–≤–µ—Ä–∏–¥–∂–µ–º**
- –†–∞–±–æ—Ç–∞—é—Ç **–±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞**
- –õ–æ–≥–∏—Ä—É—é—Ç **–≤—Å—ë –≤ –ø—É–±–ª–∏—á–Ω–æ–º, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ**

> üí° –≠—Ç–æ **–Ω–µ –∞–ª–≥–æ—Ç—Ä–µ–π–¥–∏–Ω–≥**. –≠—Ç–æ **LLM-–∞–≥–µ–Ω—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ**.

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã (—Å –Ω—É–ª—è)

```
alpha-arena/
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îî‚îÄ‚îÄ llm_agent.py                # –û—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ market_fetcher.py           # –°–±–æ—Ä —Ü–µ–Ω –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ account_state.py            # –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á—ë—Ç–∞ (–ø–æ–∑–∏—Ü–∏–∏, –±–∞–ª–∞–Ω—Å)
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ hyperliquid.py              # API –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ llm_client.py               # –í—ã–∑–æ–≤ LLM (DeepSeek, Qwen)
‚îú‚îÄ‚îÄ prompts/
‚îÇ   ‚îî‚îÄ‚îÄ system_prompt.txt           # –¢–æ—á–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∫–∞–∫ —É nof1.ai
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ {agent_name}/{timestamp}.json  # –ü—É–±–ª–∏—á–Ω—ã–µ –ª–æ–≥–∏
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ agents.json                 # –ö–æ–Ω—Ñ–∏–≥: –∫–ª—é—á–∏, –∫–∞–ø–∏—Ç–∞–ª, –∏–Ω—Ç–µ—Ä–≤–∞–ª
‚îú‚îÄ‚îÄ run.py                          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ requirements.txt
```

> ‚ùå –ù–µ—Ç `strategies/`, –Ω–µ—Ç `models/`, –Ω–µ—Ç —Ä—É—á–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.

---

## üîπ –®–∞–≥ 1. –°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`data/market_fetcher.py`)

–î–ª—è **–∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–∞** (BTC, ETH, SOL, XRP, DOGE, BNB) —Å–æ–±–∏—Ä–∞—Ç—å:

### A. –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `price`
- `ema20` (20-period EMA)
- `macd`
- `rsi_7`, `rsi_14`
- `open_interest` (latest, average)
- `funding_rate`

### B. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Ç–æ—á–µ–∫, oldest ‚Üí newest):
- **3-–º–∏–Ω—É—Ç–Ω—ã–µ**:  
  `mid_prices`, `ema20`, `macd`, `rsi_7`, `rsi_14`
- **4-—á–∞—Å–æ–≤—ã–µ**:  
  `ema20`, `ema50`, `atr3`, `atr14`, `volume`, `macd`, `rsi_14`

> ‚ö†Ô∏è –í—Å–µ —Ä—è–¥—ã ‚Äî **—Ä–æ–≤–Ω–æ 10 –∑–Ω–∞—á–µ–Ω–∏–π**. –ò—Å–ø–æ–ª—å–∑—É–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É `ta` (Technical Analysis Library) –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

---

## üîπ –®–∞–≥ 2. –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á—ë—Ç–∞ (`data/account_state.py`)

–ü–æ–ª—É—á–∞—Ç—å —á–µ—Ä–µ–∑ Hyperliquid API:
- `available_balance`
- `total_account_value`
- `total_return_pct`
- `sharpe_ratio` (–º–æ–∂–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ)
- –°–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π:  
  ```json
  {
    "symbol": "ETH",
    "quantity": 22.66,
    "entry_price": 4191.2,
    "current_price": 4146.85,
    "leverage": 25,
    "unrealized_pnl": -1004.97,
    "exit_plan": {
      "profit_target": 4280.0,
      "stop_loss": 4120.0,
      "invalidation_condition": "4h close below 4018.868"
    }
  }
  ```

---

## üîπ –®–∞–≥ 3. –ü—Ä–æ–º–ø—Ç (`prompts/system_prompt.txt`)

```text
It has been {minutes} minutes since you started trading. The current time is {timestamp} and you've been invoked {count} times.

ALL OF THE PRICE OR SIGNAL DATA BELOW IS ORDERED: OLDEST ‚Üí NEWEST

CURRENT MARKET STATE FOR ALL COINS

{market_data_block}

HERE IS YOUR ACCOUNT INFORMATION & PERFORMANCE

Current Total Return (percent): {return_pct}%
Available Cash: ${cash}
Current Account Value: ${value}
Current live positions & performance: {positions_json}
Sharpe Ratio: {sharpe}

You are an autonomous trading agent. Trade ONLY BTC, ETH, SOL, XRP, DOGE, and BNB perpetuals on Hyperliquid.

RULES:
- Every position MUST have:
  ‚Ä¢ a take-profit target
  ‚Ä¢ a stop-loss or invalidation condition (e.g., "4h close below X")
- Use 10x‚Äì20x leverage
- NEVER remove stops
- NEVER trade other assets

Respond in this EXACT format:

‚ñ∂
CHAIN_OF_THOUGHT
{ "COIN": { "signal": "HOLD/BUY/SELL", "justification": "...", "confidence": 0.85, "leverage": 15, "stop_loss": ..., "profit_target": ..., "invalidation_condition": "...", "risk_usd": ... } }

‚ñ∂
TRADING_DECISIONS
COIN
ACTION
CONFIDENCE%
Justification...

QUANTITY: {qty}
```

---

## üîπ –®–∞–≥ 4. –í—ã–∑–æ–≤ LLM (`core/llm_client.py`)

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:
- **DeepSeek V3.1**: —á–µ—Ä–µ–∑ OpenRouter (`model: "deepseek-chat"`)
- **Qwen 3 Max**: —á–µ—Ä–µ–∑ Alibaba Cloud (`model: "qwen-max"`)

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `temperature = 0.1`
- `max_tokens = 500`
- `response_format = {"type": "json_object"}` (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

---

## üîπ –®–∞–≥ 5. –ê–≥–µ–Ω—Ç (`agents/llm_agent.py`)

```python
class LLMAgent:
    def __init__(self, name: str, config: dict):
        self.name = name
        self.config = config
        self.hyperliquid = HyperliquidClient(config)
        self.llm = LLMClient(config["model"], config["api_key"])
        self.invocation_count = 0
        self.start_time = time.time()

    def run_cycle(self):
        # 1. –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
        market = MarketFetcher().get_all_assets()
        account = AccountState().get()
        
        # 2. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç
        prompt = self.build_prompt(market, account)
        
        # 3. –í—ã–∑–≤–∞—Ç—å LLM
        response = self.llm.call(prompt)
        
        # 4. –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ
        decision = self.parse_decision(response)
        
        # 5. –ò—Å–ø–æ–ª–Ω–∏—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        if decision and decision["signal"] != "HOLD":
            self.execute_decision(decision)
        
        # 6. –ó–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å
        self.log_cycle(market, account, response, decision)

    def run(self):
        while True:
            self.run_cycle()
            time.sleep(self.config["interval_sec"])
```

---

## üîπ –®–∞–≥ 6. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (`core/hyperliquid.py`)

- –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ ‚Üí **–æ—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–¥–µ—Ä**
- –°—Ä–∞–∑—É –ø–æ—Å–ª–µ ‚Üí **stop-loss** –∏ **take-profit** –∫–∞–∫ **reduce-only GTC –æ—Ä–¥–µ—Ä–∞**
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ ‚Äî –æ—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤

---

## üîπ –®–∞–≥ 7. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∂–¥—ã–π —Ü–∏–∫–ª ‚Üí `logs/{agent}/{timestamp}.json` —Å –ø–æ–ª—è–º–∏:
- `timestamp`
- `market_context` (–≤—Å—ë –∫–∞–∫ –≤ –ø—Ä–æ–º–ø—Ç–µ)
- `account_state`
- `llm_response_raw`
- `parsed_decision`
- `executed_orders`
- `errors`

> –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏** –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ ‚Äî –∫–∞–∫ –Ω–∞ nof1.ai.

---

## üîπ –®–∞–≥ 8. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config/agents.json`)

```json
{
  "agents": {
    "deepseek_v3": {
      "model": "deepseek-chat",
      "provider": "openrouter",
      "api_key_env": "DEEPSEEK_API_KEY",
      "capital_usd": 100,
      "interval_sec": 600,
      "max_leverage": 20,
      "allowed_coins": ["BTC", "ETH", "SOL", "XRP", "DOGE", "BNB"]
    },
    "qwen_max": {
      "model": "qwen-max",
      "provider": "alibaba",
      "api_key_env": "QWEN_API_KEY",
      "capital_usd": 100,
      "interval_sec": 600,
      "max_leverage": 20,
      "allowed_coins": ["BTC", "ETH", "SOL", "XRP", "DOGE", "BNB"]
    }
  }
}
```

---

## üîπ –®–∞–≥ 9. –ó–∞–ø—É—Å–∫ (`run.py`)

```python
from agents.llm_agent import LLMAgent
from config import load_config

config = load_config("agents.json")
for name, cfg in config["agents"].items():
    agent = LLMAgent(name, cfg)
    # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ (thread –∏–ª–∏ process)
```

---

## üîπ –®–∞–≥ 10. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ù–∞—á–∏–Ω–∞—Ç—å –≤ **paper trading** (—Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞ Hyperliquid)
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏** (‚â§20% –∫–∞–ø–∏—Ç–∞–ª–∞)
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å **–≤—Å–µ –æ—Ä–¥–µ—Ä–∞** –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ü–∏—Å–∞—Ç—å **unit-—Ç–µ—Å—Ç—ã** –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥, —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ–º–ø—Ç–∞, —Ä–∞—Å—á—ë—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

---

## üí° –ò—Ç–æ–≥

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –¢–ó —Ç—ã –ø–æ–ª—É—á–∏—à—å:
- **–¢–æ—á–Ω—É—é –∫–æ–ø–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã nof1.ai**
- **–†–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö LLM-–∞–≥–µ–Ω—Ç–æ–≤**
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∫–∞–ø–∏—Ç–∞–ª** –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
- **–ü—Ä–æ–∑—Ä–∞—á–Ω—É—é, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—É—é —Å–∏—Å—Ç–µ–º—É**

---
